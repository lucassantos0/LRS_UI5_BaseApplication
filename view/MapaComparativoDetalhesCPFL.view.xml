<mvc:View controllerName="lrs.ui5.controller.MapaComparativoDetalhesCPFL"
	xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout">
	<Page id="mapaComparativoDetalhesCPFL" title="{eventosSourcing>projectId}"
		showNavButton="true" navButtonPress="onNavBack">
		<content>
			<ScrollContainer width="100%">
				<Table
					items="{
						path: 'eventosSourcing>items',
						sorter: {
							path: 'itemNumber'
						}
					}">
					<headerToolbar>
						<Toolbar>
							<Title text="Mapa Comparativo de Preços" level="H2" />
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column width="14em" mergeDuplicates="true">
							<Text text="Material" />
						</Column>
						<Column width="6em" mergeDuplicates="true">
							<Text text="Qtde.Anual" />
						</Column>
						<Column width="10em" mergeDuplicates="true">
							<Text text="Fornecedor" />
						</Column>
						<Column width="4em" mergeDuplicates="true">
							<Text text="R$ Reaj." />
						</Column>
						<Column width="4em" mergeDuplicates="true">
							<Text text="R$ Total" />
						</Column>
						<Column width="6em" mergeDuplicates="true">
							<Text text="ICMS Oficial" />
						</Column>
						<Column width="10em">
							<Text text="Fornecedor" />
						</Column>
						<Column width="6em">
							<Text text="Preço Original" />
						</Column>
						<Column width="10em">
							<Text text="Preço Rodada Atual" />
						</Column>
						<Column width="4em">
							<Text text="IPI" />
						</Column>
						<Column width="4em">
							<Text text="ICMS" />
						</Column>
						<Column width="10em">
							<Text text="R$ Total" />
						</Column>
						<Column width="10em">
							<Text text="Negociado c/ Impostos" />
						</Column>
						<Column width="4em">
							<Text text="% Ref" />
						</Column>
						<Column width="10em">
							<Text text="%Dif. 1°" />
						</Column>
						<Column width="10em">
							<Text text="Obs" />
						</Column>
					</columns>
					<items>
						<ColumnListItem>
							<cells>
								<ObjectIdentifier title="{eventosSourcing>materialName}"
									text="{eventosSourcing>materialCode}" />
								<Text text="{eventosSourcing>quantidadeAnual}" />
								<Text
									text="{eventosSourcing>informacoesReferencia/nomeFornecedorUltimaCompra}" />
								<Text text="{eventosSourcing>informacoesReferencia/valorReajuste}" />
								<Text text="{eventosSourcing>informacoesReferencia/valorTotal}" />
								<Text text="{eventosSourcing>informacoesReferencia/ICMSoficial}" />
								<ObjectIdentifier title="{eventosSourcing>oferta/participant}"
									text="{eventosSourcing>oferta/externalsystemsupplierid}" />
								<Text text="{eventosSourcing>oferta/bidPricePrimeiraRodada}" />
								<Text text="{eventosSourcing>oferta/bidPrice}" />
								<Text text="{eventosSourcing>oferta/aliquotaIPI}" />
								<Text text="{eventosSourcing>oferta/aliquotaICMS}" />
								<Text
									text="{= ${eventosSourcing>oferta/bidPrice} * ${eventosSourcing>oferta/quantidade} }" />
								<Text text="" />
								<Text text="" />
								<Text text="" />
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</ScrollContainer>
			<Table items="{
					path: 'eventosSourcing>totaisPorFornecedor'
				}">
				<headerToolbar>
					<Toolbar>
						<Title text="Comparativo por fornecedor" level="H2" />
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column width="10em">
						<Text text="Fornecedor" />
					</Column>
					<Column width="10em">
						<Text text="Valor Referência" />
					</Column>
					<Column width="10em">
						<Text text="Valor Primeira Rodada" />
					</Column>
					<Column width="10em">
						<Text text="Valor atual negociado" />
					</Column>
					<Column widht="8em">
						<Text text="Total líquido" />
					</Column>
				</columns>
				<items>
					<ColumnListItem>
						<cells>
							<ObjectIdentifier title="{eventosSourcing>participant}"
								text="{eventosSourcing>externalsystemsupplierid}" />
							<Text text="{eventosSourcing>valorReferencia}" />
							<Text text="{eventosSourcing>valorPrimeiraRodada}" />
							<Text text="{eventosSourcing>valorAtualNegociado}" />
							<Text text="{eventosSourcing>totalLiquido}" />
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
	</Page>
</mvc:View>